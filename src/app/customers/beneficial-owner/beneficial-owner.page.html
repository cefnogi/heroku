<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start" (click)="goBack()">
            <ion-icon name="arrow-back"></ion-icon>
        </ion-buttons>
        <ion-title>Beneficial-Owner</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="main-layout">
        <div class="list-single" style="background-color: deepskyblue;" (click)="fundingSource()">
            <h4>Funding</h4>
        </div>
        <div class="list-single" style="background-color: black" (click)="addBenificialOwner()">
            <h4> Add Beneficial Owner</h4>
        </div>
        <div *ngIf="addBenificial">
            <ion-list>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.first_name" placeholder="First Name"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.last_name" placeholder="Last  Name"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.address" placeholder="Address 1"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.city" placeholder="City "></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.state" placeholder="State"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.zipcode" placeholder="Zip Code"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.countries" placeholder="Country"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="date" [(ngModel)]="user.dob" placeholder="DOB"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input type="text" [(ngModel)]="user.ssn" placeholder="SSN"></ion-input>
                </ion-item>
            </ion-list>
            <ion-button (click)="submitBenificialOwner()">Submit</ion-button>
        </div>
        <div *ngIf="owners.length > 0; else noOwners" class="customer-list">
            <div style="background-color: gray;"
                 *ngFor="let owner of owners; let i = index" class="list-single">
                <div style="width: 100%">
                    <div style="display: flex; width: 100%; justify-content: space-between">
                        <h4>{{owner?.firstName + ' ' + owner?.lastName }}</h4>
                        <ion-buttons style="padding-right: 5px">
                            <ion-icon (click)="updateBenificial(i, owner)" name="create"
                                      style="font-size: 23px"></ion-icon>
                            <ion-icon (click)="deleteBenificial(i, owner)" name="trash"
                                      style="font-size: 23px"></ion-icon>
                            <ion-icon [ngClass]="{'green': owner.status ==='active'}" (click)="checkStatus(i, owner)"
                                      name="bulb" style="font-size: 23px"></ion-icon>
                            <ion-icon [ngClass]="{'green': owner.certified === true}" (click)="checkCertify(i, owner)"
                                      name="checkmark-circle" style="font-size: 23px"></ion-icon>
                        </ion-buttons>
                    </div>
                    <div style="padding-top: 25px" *ngIf="owner?.edit === true">
                        <ion-list>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].firstName"
                                           placeholder="First Name"></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].lastName"
                                           placeholder="Last  Name"></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].address1"
                                           placeholder="Address 1"></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].city"
                                           placeholder="City "></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].stateProvinceRegion"
                                           placeholder="State"></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].postalCode"
                                           placeholder="Zip Code"></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].country"
                                           placeholder="Country"></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="date" [(ngModel)]="editedBenificiary[i].dateOfBirth"
                                           placeholder="DOB"></ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="text" [(ngModel)]="editedBenificiary[i].ssn"
                                           placeholder="SSN"></ion-input>
                            </ion-item>
                        </ion-list>
                        <ion-button (click)="submitBenificialOwnerUpdate(i)">Update</ion-button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ng-template #noOwners>
        <h4 style="display: grid; place-items: center"> No Owners </h4>
    </ng-template>
</ion-content>
